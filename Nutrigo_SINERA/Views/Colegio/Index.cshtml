@{
    Layout = "~/Views/Shared/LayoutColegio.cshtml";
    ViewBag.Title = "Panel Principal";
}

<div class="d-flex justify-content-between align-items-center mb-4">
    <h3>Pantalla principal</h3>
    <div>
        <img src="https://www.w3schools.com/howto/img_avatar.png" style="width: 40px; border-radius: 50%;" />
        <strong>Admin Colegio</strong>
    </div>
</div>

<!-- Line Chart -->
<div class="card mb-4">
    <div class="card-body">
        <h5 class="card-title">📈 Tendencia Semanal del Estado Nutricional de Estudiantes</h5>
        <canvas id="lineChart" height="100"></canvas>
    </div>
</div>

<!-- Bar Chart -->
<div class="card">
    <div class="card-body">
        <h5 class="card-title">📊 Porcentaje de Estudiantes</h5>
        <canvas id="barChart" height="70"></canvas>
    </div>
</div>

@section Scripts {
    <script>
        const ctxLine = document.getElementById('lineChart').getContext('2d');
        new Chart(ctxLine, {
            type: 'line',
            data: {
                labels: ['2025-01-15', '2025-01-22', '2025-02-01', '2025-02-08', '2025-02-15', '2025-02-22'],
                datasets: [
                    { label: 'Bajo Peso', data: [5, 4, 3.5, 3, 2.5, 2], borderColor: 'green', tension: 0.3 },
                    { label: 'Peso Normal', data: [10, 12, 14, 16, 18, 20], borderColor: 'blue', tension: 0.3 },
                    { label: 'Sobrepeso', data: [6, 5.5, 5, 4, 3, 2], borderColor: 'red', tension: 0.3 }
                ]
            },
            options: {
                responsive: true,
                scales: {
                    y: { title: { display: true, text: 'Cantidad de Estudiantes' } },
                    x: { title: { display: true, text: 'Fecha (Semanas)' } }
                }
            }
        });

        const ctxBar = document.getElementById('barChart').getContext('2d');
        new Chart(ctxBar, {
            type: 'bar',
            data: {
                labels: ['Registrados', 'Actividad Semanal'],
                datasets: [{
                    label: 'Porcentaje de Estudiantes',
                    data: [90, 60],
                    backgroundColor: ['#007bff', '#28a745']
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: { max: 100, beginAtZero: true }
                }
            }
        });
    </script>
}